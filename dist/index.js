!function(t,e){for(var o in e)t[o]=e[o]}(exports,function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var o={};return e.m=t,e.c=o,e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e){!function(t,e){for(var o in e)t[o]=e[o]}(e,function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var o={};return e.m=t,e.c=o,e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,o){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=o(1);e.DefaultOptions={rootSelector:".js-map",pointSelector:".js-map__point",containerClass:"js-map__map",templateSelector:".js-map__point-template",initialZoom:15,disableScrollZoom:!0};var i=function(t){function e(e,o){var n=t.call(this,e,o)||this;n._initialCenter=null,n._initialZoom=null,n._points=[];var r=n._root.querySelector("."+n._options.containerClass||"");r||((r=document.createElement("div")).classList.add(n._options.containerClass||""),n._root.appendChild(r)),n._mapContainer=r,n._parseMap();for(var i=n._root.querySelectorAll(n._options.pointSelector),a=0;a<i.length;++a)try{n._points.push(n._parsePoint(i[a]))}catch(t){console.warn("Error while processing point element",i[a],": ",t)}if(n._options.templateSelector){var p=n._root.querySelectorAll(n._options.templateSelector);for(a=0;a<p.length;++a)try{var u=n._parseTemplate(p[a]);n._options.pointTemplates?n._options.pointTemplates.push(u):n._options.pointTemplates=[u]}catch(t){console.warn("Error while processing template element",p[a],": ",t)}}return n}return n(e,t),Object.defineProperty(e.prototype,"mapContainer",{get:function(){return this._mapContainer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"initialCenter",{get:function(){return this._initialCenter},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"initialZoom",{get:function(){return this._initialZoom||this._options.initialZoom||15},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"points",{get:function(){return this._points},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pointTemplates",{get:function(){return this._options.pointTemplates||[]},enumerable:!0,configurable:!0}),e.prototype.getPointTemplate=function(t){if(this._options.pointTemplates)for(var e=this._options.pointTemplates,o=0;o<e.length;++o)if(e[o].name===t)return e[o];return null},e.prototype.getPoint=function(t){if(!t)return null;for(var e=0;e<this._points.length;++e)if(this._points[e].name===t)return this._points[e];return null},e.prototype.panToPoint=function(t){var e=this.getPoint(t);e&&this._panToPoint(e)},e.prototype._parseMap=function(){var t=this._root.getAttribute("data-lat"),e=this._root.getAttribute("data-long");t&&e&&!isNaN(+t)&&!isNaN(+e)&&(this._initialCenter={lat:+t,long:+e});var o=this._root.getAttribute("data-zoom");o&&!isNaN(+o)&&(this._initialZoom=+o)},e.prototype._parsePoint=function(t){var e=t.getAttribute("data-lat"),o=t.getAttribute("data-long");if(!e||!o||isNaN(+e)||isNaN(+o))throw new Error("Broken coordinates, please provide data-lat and data-long attributes");return{lat:+e,long:+o,title:t.getAttribute("data-title")||t.getAttribute("title")||void 0,balloonContent:t.innerHTML||void 0,template:t.getAttribute("data-template")||void 0,name:t.getAttribute("data-name")||void 0}},e.prototype._parseTemplate=function(t){var e=t.getAttribute("data-name"),o=t.getAttribute("data-image-url"),n=t.getAttribute("data-image-width"),r=t.getAttribute("data-image-height"),i=t.getAttribute("data-image-anchor-x"),a=t.getAttribute("data-image-anchor-y");if(!e)throw new Error("Invalid point template data: element should have a non-empty data-name attribute");var p=function(t){return t&&!isNaN(+t)?+t:void 0};return{name:e,imageUrl:o||void 0,imageWidth:p(n),imageHeight:p(r),imageAnchorX:p(i),imageAnchorY:p(a)}},e}(r.Component);e.Map=i;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype._panToPoint=function(t){},e}(i);e.DummyMap=a,e.MapFactory=new r.ComponentFactory("map",e.DefaultOptions,a)},function(t,e){!function(t,e){for(var o in e)t[o]=e[o]}(e,function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var o={};return e.m=t,e.c=o,e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,o){"use strict";function n(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(Object.assign)return(l=Object.assign).call.apply(l,[this,t].concat(e));if(void 0===t||null===t)throw new TypeError("assign: Cannot convert first argument to object");for(var n=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(void 0!==i&&null!==i)for(var a=Object.keys(Object(i)),p=0,u=a.length;p<u;p++){var c=a[p],s=Object.getOwnPropertyDescriptor(i,c);void 0!==s&&s.enumerable&&(n[c]=i[c])}}return n;var l}Object.defineProperty(e,"__esModule",{value:!0}),e.checkBinaryOptionAttr=function(t,e,o){return e&&t.hasAttribute(e)?"false"!==t.getAttribute(e).toLowerCase():!!o};var r=function(){function t(t,e){this._root=t,this._options=e}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),t}();e.Component=r;var i=function(){function t(t,e,o){this._compName=t,this._defOptions=e,this._defComponent=o}return t.prototype.init=function(t,e){return this.initByFunc(this.ctorToCreator(e),t)},t.prototype.initByFunc=function(t,e){for(var o=e&&e.rootSelector?e.rootSelector:this._defOptions.rootSelector,n=document.querySelectorAll(o),r=0;r<n.length;++r)this.createCompByFunc(t,n[r],e)},t.prototype.createComp=function(t,e,o){return this.createCompByFunc(this.ctorToCreator(t),e,o)},t.prototype.createCompByFunc=function(e,o,r){r=n({},this._defOptions,r);var i=null;return this._defComponent&&(i=t.fromRoot(this._compName,o)),i||(i=e(o,r),t.setComponent(this._compName,o,i)),i},t.prototype.ctorToCreator=function(t){if(!t&&!this._defComponent)throw new Error("Cannot create component: given type is empty");var e=t||this._defComponent;return function(t,o){return new e(t,o)}},t.prototype.fromRoot=function(e){return t.fromRoot(this._compName,e)},t.fromRoot=function(t,e){return e["__hidden_comp_"+t]||null},t.setComponent=function(t,e,o){e["__hidden_comp_"+t]=o},t}();e.ComponentFactory=i,e.assign=n}]))}]))},function(t,e){!function(t,e){for(var o in e)t[o]=e[o]}(e,function(t){function e(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var o={};return e.m=t,e.c=o,e.d=function(t,o,n){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,o){"use strict";function n(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(Object.assign)return(l=Object.assign).call.apply(l,[this,t].concat(e));if(void 0===t||null===t)throw new TypeError("assign: Cannot convert first argument to object");for(var n=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(void 0!==i&&null!==i)for(var a=Object.keys(Object(i)),p=0,u=a.length;p<u;p++){var c=a[p],s=Object.getOwnPropertyDescriptor(i,c);void 0!==s&&s.enumerable&&(n[c]=i[c])}}return n;var l}Object.defineProperty(e,"__esModule",{value:!0}),e.checkBinaryOptionAttr=function(t,e,o){return e&&t.hasAttribute(e)?"false"!==t.getAttribute(e).toLowerCase():!!o};var r=function(){function t(t,e){this._root=t,this._options=e}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!0,configurable:!0}),t}();e.Component=r;var i=function(){function t(t,e,o){this._compName=t,this._defOptions=e,this._defComponent=o}return t.prototype.init=function(t,e){return this.initByFunc(this.ctorToCreator(e),t)},t.prototype.initByFunc=function(t,e){for(var o=e&&e.rootSelector?e.rootSelector:this._defOptions.rootSelector,n=document.querySelectorAll(o),r=0;r<n.length;++r)this.createCompByFunc(t,n[r],e)},t.prototype.createComp=function(t,e,o){return this.createCompByFunc(this.ctorToCreator(t),e,o)},t.prototype.createCompByFunc=function(e,o,r){r=n({},this._defOptions,r);var i=null;return this._defComponent&&(i=t.fromRoot(this._compName,o)),i||(i=e(o,r),t.setComponent(this._compName,o,i)),i},t.prototype.ctorToCreator=function(t){if(!t&&!this._defComponent)throw new Error("Cannot create component: given type is empty");var e=t||this._defComponent;return function(t,o){return new e(t,o)}},t.prototype.fromRoot=function(e){return t.fromRoot(this._compName,e)},t.fromRoot=function(t,e){return e["__hidden_comp_"+t]||null},t.setComponent=function(t,e,o){e["__hidden_comp_"+t]=o},t}();e.ComponentFactory=i,e.assign=n}]))},function(t,e,o){"use strict";var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(e,o){function n(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var r=o(0),i=o(0),a=o(1),p=o(1);e.DefaultOptions=p.assign({},i.DefaultOptions);var u=55.753742,c=37.620032,s=function(t){function e(e,o){var n=t.call(this,e,o)||this;if(!window.ymaps)throw new Error("Yandex maps api is not detected, make sure you have plugged the scripts in");return n.mapContainer&&ymaps.ready(function(){var t=n.initialCenter||{lat:u,long:c};n._ymap=new ymaps.Map(n.mapContainer,{center:[t.lat,t.long],zoom:n.initialZoom}),n._options.disableScrollZoom&&n._ymap.behaviors.disable("scrollZoom");for(var e=0;e<n._points.length;++e){var o=n._points[e];n._addPlacemark(o)}}),n}return n(e,t),e.prototype._addPlacemark=function(t){var e=void 0;if(t.template){var o=this.getPointTemplate(t.template);o&&o.imageUrl&&o.imageHeight&&o.imageWidth&&(e={iconLayout:"default#image",iconImageHref:o.imageUrl,iconImageSize:[o.imageWidth,o.imageHeight],iconImageOffset:[-(o.imageAnchorX||0),-(o.imageAnchorY||0)]})}var n=new ymaps.Placemark([t.lat,t.long],{balloonContent:t.balloonContent||t.title,hintContent:t.title||""},e);t.placemark=n,this._ymap.geoObjects.add(n)},e.prototype._parsePoint=function(e){var o=t.prototype._parsePoint.call(this,e);return o.placemark=null,o},e.prototype._panToPoint=function(t){t&&this._ymap.panTo([t.lat,t.long])},e}(r.Map);e.YandexMap=s,e.YandexMapFactory=new a.ComponentFactory("map",e.DefaultOptions,s)}]));